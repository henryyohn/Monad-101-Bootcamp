# 第一章：走进 Web3 世界

1. 简单描述一下本地开发、部署合约的流程
| 阶段       | 工具/命令              | 核心功能                     | 引用来源       |
|------------|------------------------|------------------------------|----------------|
| **环境准备**   | `foundryup`            | 安装 Foundry 工具链，为开发智能合约提供基础环境支持。 | -              |
| **合约开发**   | `forge install`        | 管理依赖库，安装和集成第三方库或模块，提升开发效率。 | -              |
| **测试验证**   | `forge test -vvvv`     | 进行模糊测试与日志追踪，确保合约逻辑的健壮性和正确性。 | -              |
| **本地部署**   | `anvil` + `forge script` | 启动本地测试节点（Anvil）并通过脚本广播交易，模拟链上部署环境。 | -              |
| **链上交互**   | `cast call/send`       | 查询合约状态或调用合约函数，实现与已部署合约的交互。 | -              |

### 流程详解：
1. **环境准备**  
   使用 `foundryup` 安装 Foundry 工具链，为后续的开发、测试和部署提供支持。

2. **合约开发**  
   通过 `forge install` 管理依赖库，集成必要的第三方库或模块，提升开发效率。

3. **测试验证**  
   使用 `forge test -vvvv` 进行模糊测试和日志追踪，确保合约逻辑的健壮性和正确性。

4. **本地部署**  
   启动本地测试节点（Anvil），并通过 `forge script` 广播交易，模拟链上部署环境。

5. **链上交互**  
   使用 `cast call/send` 查询合约状态或调用合约函数，实现与已部署合约的交互。

这一流程为开发者提供了从本地开发到链上部署的完整解决方案，确保智能合约的高效开发和可靠运行。

2. 简单描述一下用户在使用一个 DApp 时与合约交互的流程
    
    2.1. **连接区块链钱包**  
    用户首先需要通过前端界面（如网页或移动应用）连接到区块链钱包（如MetaMask）。这一步类似于进入一个高级俱乐部之前需要出示会员卡。钱包中的私钥相当于用户的身份凭证，只有通过验证后，用户才能在DApp中进行操作。

    2.2. **用户发起交互操作**  
    用户通过DApp的前端界面发起操作，例如转账、调用智能合约的函数等。这些操作会被转化为交易请求，并发送到区块链网络。
    
    2.3. **交易签名与广播**  
    用户的钱包会使用私钥对交易进行签名，以确保交易的合法性和安全性。签名后的交易会被广播到区块链网络中，等待节点验证。
    
    2.4. **智能合约执行**  
    当交易被网络中的节点验证通过后，相关的智能合约会被触发并执行。智能合约根据预设的规则自动运行，完成用户请求的操作。
    
    2.5. **链上数据同步**  
    智能合约执行的结果会被记录在区块链上，并同步到所有节点。用户可以通过前端界面实时查看交易结果或资产变动情况。
    
    2.6. **异常处理与反馈**  
    如果在执行过程中出现异常（如资金不足或参数错误），系统会返回相应的错误信息给用户。用户可以根据提示进行调整或重新发起操作。


3. 通读[「区块链黑暗森林自救手册」](https://github.com/slowmist/Blockchain-dark-forest-selfguard-handbook/blob/main/README_CN.md)，列出你觉得最重要的三个安全技巧

   1. **资产隔离原则：分散风险**  
      在区块链世界中，“鸡蛋不要放在一个篮子里”是至关重要的安全策略。频繁使用的钱包更容易暴露在风险中，因此建议在面对新项目或新事物时，创建一个独立的钱包，并使用少量资金进行测试和体验。这样即使出现问题，也能将损失控制在最小范围内。

   2. **签名安全：所见即所签**  
      签名是区块链交互的核心环节，必须严格遵守“所见即所签”的原则。确保你看到的内容与预期签名内容完全一致，避免因疏忽或恶意攻击导致意外结果。一旦签名发出，后果将不可逆转，因此务必在签名前仔细核对所有细节。

   3. **警惕人性弱点：不要考验人性**  
      区块链世界充满了诱惑和陷阱，永远不要高估自己或他人的道德底线。无论是面对高收益承诺还是看似可信的项目，都要保持理性思考，避免因贪婪或轻信而陷入骗局。记住，安全永远是第一位的。

